<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />

<meta name="author" content="Hoang-Trieu Trinh" />

<meta name="date" content="2015-11-03" />

<title>Educational Data Synthesizer</title>



<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; }
code > span.dt { color: #902000; }
code > span.dv { color: #40a070; }
code > span.bn { color: #40a070; }
code > span.fl { color: #40a070; }
code > span.ch { color: #4070a0; }
code > span.st { color: #4070a0; }
code > span.co { color: #60a0b0; font-style: italic; }
code > span.ot { color: #007020; }
code > span.al { color: #ff0000; font-weight: bold; }
code > span.fu { color: #06287e; }
code > span.er { color: #ff0000; font-weight: bold; }
</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>


<link href="data:text/css,body%20%7B%0A%20%20background%2Dcolor%3A%20%23fff%3B%0A%20%20margin%3A%201em%20auto%3B%0A%20%20max%2Dwidth%3A%20700px%3B%0A%20%20overflow%3A%20visible%3B%0A%20%20padding%2Dleft%3A%202em%3B%0A%20%20padding%2Dright%3A%202em%3B%0A%20%20font%2Dfamily%3A%20%22Open%20Sans%22%2C%20%22Helvetica%20Neue%22%2C%20Helvetica%2C%20Arial%2C%20sans%2Dserif%3B%0A%20%20font%2Dsize%3A%2014px%3B%0A%20%20line%2Dheight%3A%201%2E35%3B%0A%7D%0A%0A%23header%20%7B%0A%20%20text%2Dalign%3A%20center%3B%0A%7D%0A%0A%23TOC%20%7B%0A%20%20clear%3A%20both%3B%0A%20%20margin%3A%200%200%2010px%2010px%3B%0A%20%20padding%3A%204px%3B%0A%20%20width%3A%20400px%3B%0A%20%20border%3A%201px%20solid%20%23CCCCCC%3B%0A%20%20border%2Dradius%3A%205px%3B%0A%0A%20%20background%2Dcolor%3A%20%23f6f6f6%3B%0A%20%20font%2Dsize%3A%2013px%3B%0A%20%20line%2Dheight%3A%201%2E3%3B%0A%7D%0A%20%20%23TOC%20%2Etoctitle%20%7B%0A%20%20%20%20font%2Dweight%3A%20bold%3B%0A%20%20%20%20font%2Dsize%3A%2015px%3B%0A%20%20%20%20margin%2Dleft%3A%205px%3B%0A%20%20%7D%0A%0A%20%20%23TOC%20ul%20%7B%0A%20%20%20%20padding%2Dleft%3A%2040px%3B%0A%20%20%20%20margin%2Dleft%3A%20%2D1%2E5em%3B%0A%20%20%20%20margin%2Dtop%3A%205px%3B%0A%20%20%20%20margin%2Dbottom%3A%205px%3B%0A%20%20%7D%0A%20%20%23TOC%20ul%20ul%20%7B%0A%20%20%20%20margin%2Dleft%3A%20%2D2em%3B%0A%20%20%7D%0A%20%20%23TOC%20li%20%7B%0A%20%20%20%20line%2Dheight%3A%2016px%3B%0A%20%20%7D%0A%0Atable%20%7B%0A%20%20margin%3A%201em%20auto%3B%0A%20%20border%2Dwidth%3A%201px%3B%0A%20%20border%2Dcolor%3A%20%23DDDDDD%3B%0A%20%20border%2Dstyle%3A%20outset%3B%0A%20%20border%2Dcollapse%3A%20collapse%3B%0A%7D%0Atable%20th%20%7B%0A%20%20border%2Dwidth%3A%202px%3B%0A%20%20padding%3A%205px%3B%0A%20%20border%2Dstyle%3A%20inset%3B%0A%7D%0Atable%20td%20%7B%0A%20%20border%2Dwidth%3A%201px%3B%0A%20%20border%2Dstyle%3A%20inset%3B%0A%20%20line%2Dheight%3A%2018px%3B%0A%20%20padding%3A%205px%205px%3B%0A%7D%0Atable%2C%20table%20th%2C%20table%20td%20%7B%0A%20%20border%2Dleft%2Dstyle%3A%20none%3B%0A%20%20border%2Dright%2Dstyle%3A%20none%3B%0A%7D%0Atable%20thead%2C%20table%20tr%2Eeven%20%7B%0A%20%20background%2Dcolor%3A%20%23f7f7f7%3B%0A%7D%0A%0Ap%20%7B%0A%20%20margin%3A%200%2E5em%200%3B%0A%7D%0A%0Ablockquote%20%7B%0A%20%20background%2Dcolor%3A%20%23f6f6f6%3B%0A%20%20padding%3A%200%2E25em%200%2E75em%3B%0A%7D%0A%0Ahr%20%7B%0A%20%20border%2Dstyle%3A%20solid%3B%0A%20%20border%3A%20none%3B%0A%20%20border%2Dtop%3A%201px%20solid%20%23777%3B%0A%20%20margin%3A%2028px%200%3B%0A%7D%0A%0Adl%20%7B%0A%20%20margin%2Dleft%3A%200%3B%0A%7D%0A%20%20dl%20dd%20%7B%0A%20%20%20%20margin%2Dbottom%3A%2013px%3B%0A%20%20%20%20margin%2Dleft%3A%2013px%3B%0A%20%20%7D%0A%20%20dl%20dt%20%7B%0A%20%20%20%20font%2Dweight%3A%20bold%3B%0A%20%20%7D%0A%0Aul%20%7B%0A%20%20margin%2Dtop%3A%200%3B%0A%7D%0A%20%20ul%20li%20%7B%0A%20%20%20%20list%2Dstyle%3A%20circle%20outside%3B%0A%20%20%7D%0A%20%20ul%20ul%20%7B%0A%20%20%20%20margin%2Dbottom%3A%200%3B%0A%20%20%7D%0A%0Apre%2C%20code%20%7B%0A%20%20background%2Dcolor%3A%20%23f7f7f7%3B%0A%20%20border%2Dradius%3A%203px%3B%0A%20%20color%3A%20%23333%3B%0A%7D%0Apre%20%7B%0A%20%20white%2Dspace%3A%20pre%2Dwrap%3B%20%20%20%20%2F%2A%20Wrap%20long%20lines%20%2A%2F%0A%20%20border%2Dradius%3A%203px%3B%0A%20%20margin%3A%205px%200px%2010px%200px%3B%0A%20%20padding%3A%2010px%3B%0A%7D%0Apre%3Anot%28%5Bclass%5D%29%20%7B%0A%20%20background%2Dcolor%3A%20%23f7f7f7%3B%0A%7D%0A%0Acode%20%7B%0A%20%20font%2Dfamily%3A%20Consolas%2C%20Monaco%2C%20%27Courier%20New%27%2C%20monospace%3B%0A%20%20font%2Dsize%3A%2085%25%3B%0A%7D%0Ap%20%3E%20code%2C%20li%20%3E%20code%20%7B%0A%20%20padding%3A%202px%200px%3B%0A%7D%0A%0Adiv%2Efigure%20%7B%0A%20%20text%2Dalign%3A%20center%3B%0A%7D%0Aimg%20%7B%0A%20%20background%2Dcolor%3A%20%23FFFFFF%3B%0A%20%20padding%3A%202px%3B%0A%20%20border%3A%201px%20solid%20%23DDDDDD%3B%0A%20%20border%2Dradius%3A%203px%3B%0A%20%20border%3A%201px%20solid%20%23CCCCCC%3B%0A%20%20margin%3A%200%205px%3B%0A%7D%0A%0Ah1%20%7B%0A%20%20margin%2Dtop%3A%200%3B%0A%20%20font%2Dsize%3A%2035px%3B%0A%20%20line%2Dheight%3A%2040px%3B%0A%7D%0A%0Ah2%20%7B%0A%20%20border%2Dbottom%3A%204px%20solid%20%23f7f7f7%3B%0A%20%20padding%2Dtop%3A%2010px%3B%0A%20%20padding%2Dbottom%3A%202px%3B%0A%20%20font%2Dsize%3A%20145%25%3B%0A%7D%0A%0Ah3%20%7B%0A%20%20border%2Dbottom%3A%202px%20solid%20%23f7f7f7%3B%0A%20%20padding%2Dtop%3A%2010px%3B%0A%20%20font%2Dsize%3A%20120%25%3B%0A%7D%0A%0Ah4%20%7B%0A%20%20border%2Dbottom%3A%201px%20solid%20%23f7f7f7%3B%0A%20%20margin%2Dleft%3A%208px%3B%0A%20%20font%2Dsize%3A%20105%25%3B%0A%7D%0A%0Ah5%2C%20h6%20%7B%0A%20%20border%2Dbottom%3A%201px%20solid%20%23ccc%3B%0A%20%20font%2Dsize%3A%20105%25%3B%0A%7D%0A%0Aa%20%7B%0A%20%20color%3A%20%230033dd%3B%0A%20%20text%2Ddecoration%3A%20none%3B%0A%7D%0A%20%20a%3Ahover%20%7B%0A%20%20%20%20color%3A%20%236666ff%3B%20%7D%0A%20%20a%3Avisited%20%7B%0A%20%20%20%20color%3A%20%23800080%3B%20%7D%0A%20%20a%3Avisited%3Ahover%20%7B%0A%20%20%20%20color%3A%20%23BB00BB%3B%20%7D%0A%20%20a%5Bhref%5E%3D%22http%3A%22%5D%20%7B%0A%20%20%20%20text%2Ddecoration%3A%20underline%3B%20%7D%0A%20%20a%5Bhref%5E%3D%22https%3A%22%5D%20%7B%0A%20%20%20%20text%2Ddecoration%3A%20underline%3B%20%7D%0A%0A%2F%2A%20Class%20described%20in%20https%3A%2F%2Fbenjeffrey%2Ecom%2Fposts%2Fpandoc%2Dsyntax%2Dhighlighting%2Dcss%0A%20%20%20Colours%20from%20https%3A%2F%2Fgist%2Egithub%2Ecom%2Frobsimmons%2F1172277%20%2A%2F%0A%0Acode%20%3E%20span%2Ekw%20%7B%20color%3A%20%23555%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%2F%2A%20Keyword%20%2A%2F%0Acode%20%3E%20span%2Edt%20%7B%20color%3A%20%23902000%3B%20%7D%20%2F%2A%20DataType%20%2A%2F%0Acode%20%3E%20span%2Edv%20%7B%20color%3A%20%2340a070%3B%20%7D%20%2F%2A%20DecVal%20%28decimal%20values%29%20%2A%2F%0Acode%20%3E%20span%2Ebn%20%7B%20color%3A%20%23d14%3B%20%7D%20%2F%2A%20BaseN%20%2A%2F%0Acode%20%3E%20span%2Efl%20%7B%20color%3A%20%23d14%3B%20%7D%20%2F%2A%20Float%20%2A%2F%0Acode%20%3E%20span%2Ech%20%7B%20color%3A%20%23d14%3B%20%7D%20%2F%2A%20Char%20%2A%2F%0Acode%20%3E%20span%2Est%20%7B%20color%3A%20%23d14%3B%20%7D%20%2F%2A%20String%20%2A%2F%0Acode%20%3E%20span%2Eco%20%7B%20color%3A%20%23888888%3B%20font%2Dstyle%3A%20italic%3B%20%7D%20%2F%2A%20Comment%20%2A%2F%0Acode%20%3E%20span%2Eot%20%7B%20color%3A%20%23007020%3B%20%7D%20%2F%2A%20OtherToken%20%2A%2F%0Acode%20%3E%20span%2Eal%20%7B%20color%3A%20%23ff0000%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%2F%2A%20AlertToken%20%2A%2F%0Acode%20%3E%20span%2Efu%20%7B%20color%3A%20%23900%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%2F%2A%20Function%20calls%20%2A%2F%20%0Acode%20%3E%20span%2Eer%20%7B%20color%3A%20%23a61717%3B%20background%2Dcolor%3A%20%23e3d2d2%3B%20%7D%20%2F%2A%20ErrorTok%20%2A%2F%0A%0A" rel="stylesheet" type="text/css" />

</head>

<body>



<div id="header">
<h1 class="title">Educational Data Synthesizer</h1>
<h4 class="author"><em>Hoang-Trieu Trinh</em></h4>
<h4 class="date"><em>2015-11-03</em></h4>
</div>


<div id="introduction" class="section level2">
<h2>Introduction</h2>
<p>In general, generating data from a given set of parameters under a specified model’s assumptions is straightforward, as long as the following two conditions are satisfied:</p>
<ul>
<li><em>condition 1</em> : All the necessary parameters are given.</li>
<li><em>condition 2</em> : Information inferred from the given parameters’ values does not conflict with itself (user input is consistent).</li>
</ul>
<p>However, checking these conditions is not always a straightforward task. Namely, difficulties may arise from the Educational Data Mining literature, where parameters are usually organised in a complex manner. Some of them are shared between different models (e.g. average success rate, student variance, number of concepts, etc), the collection of all parameters can also be arranged into a hierarchical structure in the sense that some parameters can be used to generate some others, as oppose to a set of parameters that directly generates data.</p>
<p>For example, with Non-negative Matrix Factorization models, Q-matrix and Skill matrix are parameters that directly generate data, while these two parameters can be generated using parameters at lower level such as number of students, number of items, or number of concepts. A sufficient set of parameters to generate data in this case can be {Q-matrix, Skill matrix} or {Q-matrix, number of students}. For the former set to be consistent, number of columns of Q-matrix must equate the number of rows of Skill matrix because both represent number of concepts.</p>
<p>One can conclude from the above observation that there are many different ways to generate data depending on which model is being acquired and which parameters are given (assuming that they all satisfy <em>condition 1</em> and <em>condition 2</em>). At this point it is important to stress that for different sufficient and consistent sets of parameters, even with respect to a single model <em>M</em>, we must expect different amounts of variance in the generated data. The reason is, with a set of parameters at lower level, it requires more intermediate generating steps before reaching the final one (generating data), thus produces more variability in the corresponding generated data.</p>
<p>R package <code>edmsyn</code> provides users a simple framework that conveniently handles all the situations above while generating data, including checking for <em>condition 1</em> and <em>condition 2</em>. It also automates the process of learning parameters from raw data, modifying and using this information to create synthetic data from 10 different models. This document is intended to give a quick and thorough tutorial on using <code>edmsyn</code>.</p>
</div>
<div id="loading-the-package" class="section level2">
<h2>Loading the package</h2>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(edmsyn)</code></pre>
<p>Vector <code>ALL.MODELS</code> loaded at the start of this package contains the names of all available models.</p>
<pre class="sourceCode r"><code class="sourceCode r">edmsyn::ALL.MODELS</code></pre>
<pre><code>##  [1] &quot;exp&quot;     &quot;irt&quot;     &quot;poks&quot;    &quot;dina&quot;    &quot;dino&quot;    &quot;lin.avg&quot; &quot;nmf.con&quot;
##  [8] &quot;nmf.dis&quot; &quot;nmf.com&quot; &quot;bkt&quot;</code></pre>
</div>
<div id="class-context-and-function-pars" class="section level2">
<h2>Class <code>context</code> and function <code>pars()</code></h2>
<p>Since some of the parameters are shared between different models, <code>edmsyn</code> did not regard the collection of all parameters from 10 models separately, but jointly as different aspects describing a single instance of reality. For example, the vector of discrimination factors of all items is a parameter belongs to the IRT-2pl model, which is not the case for the parameter Q-matrix, however, <code>edmsyn</code> introduces the class <code>context</code> where these two parameters co-exist in a single object and can be utilized according to user purpose.</p>
<p>Function <code>pars()</code> produce an object of class <code>context</code>.</p>
<pre class="sourceCode r"><code class="sourceCode r">p &lt;-<span class="st"> </span><span class="kw">pars</span>(<span class="dt">students =</span> <span class="dv">15</span>, <span class="dt">items =</span> <span class="dv">20</span>)
<span class="kw">class</span>(p)</code></pre>
<pre><code>## [1] &quot;context&quot;</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">names</span>(p)</code></pre>
<pre><code>##  [1] &quot;init.vals&quot;        &quot;dis&quot;              &quot;dif&quot;             
##  [4] &quot;abi&quot;              &quot;abi.mean&quot;         &quot;abi.sd&quot;          
##  [7] &quot;st.exp&quot;           &quot;it.exp&quot;           &quot;items&quot;           
## [10] &quot;concepts&quot;         &quot;students&quot;         &quot;state&quot;           
## [13] &quot;po&quot;               &quot;or.t&quot;             &quot;or.f&quot;            
## [16] &quot;student.var&quot;      &quot;avg.success&quot;      &quot;min.ntree&quot;       
## [19] &quot;max.ntree&quot;        &quot;trans&quot;            &quot;min.depth&quot;       
## [22] &quot;max.depth&quot;        &quot;density&quot;          &quot;min.it.per.tree&quot; 
## [25] &quot;max.it.per.tree&quot;  &quot;alpha.c&quot;          &quot;alpha.p&quot;         
## [28] &quot;p.min&quot;            &quot;slip&quot;             &quot;guess&quot;           
## [31] &quot;per.item&quot;         &quot;order&quot;            &quot;Q&quot;               
## [34] &quot;S&quot;                &quot;M&quot;                &quot;L&quot;               
## [37] &quot;bkt.mod&quot;          &quot;S.st.var&quot;         &quot;S.con.exp&quot;       
## [40] &quot;L.st.var&quot;         &quot;L.con.exp&quot;        &quot;skill.space.size&quot;
## [43] &quot;skill.space&quot;      &quot;skill.dist&quot;       &quot;concept.exp&quot;     
## [46] &quot;bkt.slip&quot;         &quot;bkt.guess&quot;        &quot;time&quot;            
## [49] &quot;bkt.slip.it.exp&quot;  &quot;bkt.slip.st.var&quot;  &quot;bkt.guess.it.exp&quot;
## [52] &quot;bkt.guess.st.var&quot; &quot;irt&quot;              &quot;exp&quot;             
## [55] &quot;dina&quot;             &quot;dino&quot;             &quot;nmf.con&quot;         
## [58] &quot;nmf.dis&quot;          &quot;nmf.com&quot;          &quot;lin.avg&quot;         
## [61] &quot;poks&quot;             &quot;bkt&quot;</code></pre>
<p>As we can see, there are collectively 62 parameters in a single context, see <code>?pars</code> for the description of them. By the assignment <code>p &lt;- pars(students = 20, items = 20)</code> there is currently no other information in the context <code>p</code> except <code>students</code>, <code>items</code>, and <code>init.vals</code>.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">print</span>(p)</code></pre>
<pre><code>## Activated information in the context:
## [1] &quot;init.vals&quot; &quot;items&quot;     &quot;students&quot;</code></pre>
<p><code>init.vals</code> is the component that is available (activated) in any <code>context</code> object, it is a list containing the default values for some of the parameters. Whenever one of these parameters is needed without user idicated input, the corresponding value will be loaded into the <code>context</code>.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">names</span>(p$init.vals)</code></pre>
<pre><code>##  [1] &quot;student.var&quot;      &quot;avg.success&quot;      &quot;time&quot;            
##  [4] &quot;S.st.var&quot;         &quot;L.st.var&quot;         &quot;bkt.slip.st.var&quot; 
##  [7] &quot;bkt.guess.st.var&quot; &quot;min.ntree&quot;        &quot;min.depth&quot;       
## [10] &quot;min.it.per.tree&quot;  &quot;per.item&quot;         &quot;bkt.mod&quot;         
## [13] &quot;density&quot;          &quot;alpha.c&quot;          &quot;alpha.p&quot;         
## [16] &quot;p.min&quot;            &quot;abi.mean&quot;         &quot;abi.sd&quot;          
## [19] &quot;trans&quot;</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">p$init.vals$avg.success</code></pre>
<pre><code>## [1] 0.5</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">p$avg.success</code></pre>
<pre><code>## NULL</code></pre>
<p>At some point in the future, if data need to be generated from <code>p</code> by a model that requires <code>avg.success</code>, in case this parameter had not been inputted by the user, the value of <code>0.5</code> would be used.</p>
<p>We can change these default values by using the <code>init</code> function</p>
<pre class="sourceCode r"><code class="sourceCode r">p_ &lt;-<span class="st"> </span><span class="kw">pars</span>(<span class="dt">init.vals =</span> <span class="kw">init</span>(<span class="dt">avg.success =</span> <span class="fl">0.6</span>))
p_$init.vals$avg.success</code></pre>
<pre><code>## [1] 0.6</code></pre>
<p>Function <code>pars</code> can also be used to update an available <code>context</code>, for example, we can change the number of students in <code>p</code> from 15 to 20, and add the <em>number of concepts</em> information into <code>p</code></p>
<pre class="sourceCode r"><code class="sourceCode r">p &lt;-<span class="st"> </span><span class="kw">pars</span>(p, <span class="dt">concepts =</span> <span class="dv">5</span>, <span class="dt">students =</span> <span class="dv">20</span>)
p</code></pre>
<pre><code>## Activated information in the context:
## [1] &quot;init.vals&quot; &quot;items&quot;     &quot;concepts&quot;  &quot;students&quot;</code></pre>
<p><code>pars</code> also automatically figures out obtainable parameters at lower level whenever a parameter is activated. For example, dimensions of <code>M</code> imply the number of concepts and the number of students. Thus, if a context is supplied with <code>M</code>, <code>concepts</code> and <code>students</code> (and some other obtainable parameters) are activated.</p>
<pre class="sourceCode r"><code class="sourceCode r">p_ &lt;-<span class="st"> </span><span class="kw">pars</span>(<span class="dt">M =</span> <span class="kw">matrix</span>(<span class="dv">1</span>, <span class="dv">7</span>, <span class="dv">30</span>))
p_</code></pre>
<pre><code>## Activated information in the context:
## [1] &quot;init.vals&quot;   &quot;concepts&quot;    &quot;students&quot;    &quot;M&quot;           &quot;concept.exp&quot;</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">p_$concepts</code></pre>
<pre><code>## [1] 7</code></pre>
<p>while assembling input parameters from users, <code>pars</code> will check for their consistency (<em>condition 2</em>) <a href="#fn1" class="footnoteRef" id="fnref1"><sup>1</sup></a>. Since <code>p</code> is a context where there are 20 question items, a Q-matrix with 30 rows is incompatible.</p>
<pre class="sourceCode r"><code class="sourceCode r">p &lt;-<span class="st"> </span><span class="kw">pars</span>(p, <span class="dt">Q =</span> <span class="kw">matrix</span>(<span class="dv">1</span>,<span class="dv">30</span>,<span class="dv">5</span>))</code></pre>
<pre><code>## Error in down.stream(new.pars): 'items' receives different values at once</code></pre>
<p>In short, the introduction of class <code>context</code> and function <code>pars</code> is mostly for convenience in the following cases:</p>
<ul>
<li>An user is working across many different models with some shared parameters.</li>
<li>An user wants to study data generation from different sufficient sets of parameters. Without having to use many functions to handle each case separately, he/she will only need a function to deal with objects of a single class <code>context</code>.</li>
</ul>
</div>
<div id="get-a-parameter-from-a-context-by-get.par" class="section level2">
<h2>Get a parameter from a context by <code>get.par</code></h2>
<p>We can access to components of a <code>context</code> object just like accessing to components of a list. <code>edmsyn</code> provides an alternative approach to this by the function <code>get.par</code></p>
<pre class="sourceCode r"><code class="sourceCode r">p$students</code></pre>
<pre><code>## [1] 20</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">get.par</span>(<span class="st">&quot;students&quot;</span>, p)</code></pre>
<pre><code>## $value
## [1] 20
## 
## $context
## Activated information in the context:
## [1] &quot;init.vals&quot; &quot;items&quot;     &quot;concepts&quot;  &quot;students&quot;</code></pre>
<p>The advantage of <code>get.par</code> is that, it gives result even when the parameter is not available, as long as the parameter is possible to be generated. For example, if we want to produce the value of the skill mastery matrix (<code>M</code>) from <code>p</code>, the conventional operator <code>$</code> will return <code>NULL</code>, while <code>get.par</code> finds a way to generate <code>M</code> from <code>concepts</code> and <code>students</code>. Set the argument <code>progress = TRUE</code> to see how <code>get.par</code> does it.</p>
<pre class="sourceCode r"><code class="sourceCode r">p$M</code></pre>
<pre><code>## NULL</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">M_ &lt;-<span class="st"> </span><span class="kw">get.par</span>(<span class="st">&quot;M&quot;</span>, p, <span class="dt">progress =</span> <span class="ot">TRUE</span>)</code></pre>
<pre><code>## Generate M from c(&quot;students&quot;, &quot;concept.exp&quot;)
## Generate concept.exp from concepts</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">M_</code></pre>
<pre><code>## $value
##      [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8] [,9] [,10] [,11] [,12] [,13]
## [1,]    0    0    0    0    1    0    0    0    0     0     0     0     0
## [2,]    1    1    1    0    1    1    1    1    1     0     1     1     1
## [3,]    0    1    0    0    0    1    0    0    0     0     0     1     0
## [4,]    1    0    1    0    1    1    1    1    1     1     0     1     1
## [5,]    0    1    0    1    1    1    1    1    1     1     1     1     1
##      [,14] [,15] [,16] [,17] [,18] [,19] [,20]
## [1,]     0     0     0     0     0     0     0
## [2,]     1     1     0     1     1     1     1
## [3,]     0     1     0     1     1     0     0
## [4,]     1     1     1     1     1     0     1
## [5,]     1     0     1     1     1     1     1
## 
## $context
## Activated information in the context:
## [1] &quot;init.vals&quot;   &quot;items&quot;       &quot;concepts&quot;    &quot;students&quot;    &quot;M&quot;          
## [6] &quot;concept.exp&quot;</code></pre>
<p>As can be seen, the progress involves generating an intermediate parameter called <code>concept.exp</code> before generating <code>M</code>. <code>concept.exp</code> is a vector of the expected mastery rates for 5 concepts in <code>p</code>. By using <code>get.par</code>, we can examine the values of these intermediate generations.</p>
<pre class="sourceCode r"><code class="sourceCode r">M_$context$concept.exp</code></pre>
<pre><code>## [1] 0.1157386 0.8573776 0.4237814 0.6442823 0.9076862</code></pre>
<p>For example, looking at the above <code>concept.exp</code>, it is expected that there is about 12 percent of the students who mastered the first concept in <code>p</code>. In fact, due to the abundant availability of parameters co-existing in a context, generating <code>concept.exp</code> is just one amongst many other ways by which <code>get.par</code> can reach <code>M</code>, the reason why it turns out to be this way will be discussed in later parts.</p>
<p>If we run <code>get.par</code> to obtain <code>M</code> again, in general the result will be different. This is because of the fact that each time doing so, another probabilistic generation will be carried out, thus we receive a different <code>concept.exp</code>, and after that a different <code>M</code>.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">identical</span>(M_$value, <span class="kw">get.par</span>(<span class="st">&quot;M&quot;</span>, p)$value)</code></pre>
<pre><code>## [1] FALSE</code></pre>
<p><code>get.par</code> can detect whether there is enough information to generate the required parameters. For example, Q-matrix needs the number of concepts to be defined, without the number of concepts, there is no way Q-matrix can be derived.</p>
<pre class="sourceCode r"><code class="sourceCode r">p_ &lt;-<span class="st"> </span><span class="kw">pars</span>(<span class="dt">students =</span> <span class="dv">20</span>, <span class="dt">items =</span> <span class="dv">15</span>)
<span class="kw">get.par</span>(<span class="st">&quot;Q&quot;</span>, p_)</code></pre>
<pre><code>## Cannot reach 'Q' since 'concepts' is missing</code></pre>
<pre><code>## $value
## NULL
## 
## $context
## Activated information in the context:
## [1] &quot;init.vals&quot; &quot;items&quot;     &quot;students&quot;</code></pre>
<p>One way to fix this is supplying <code>M</code> to the context, which essentially contains the <em>number of concepts</em> information. By this, the process becomes possible</p>
<pre class="sourceCode r"><code class="sourceCode r">p_ &lt;-<span class="st"> </span><span class="kw">pars</span>(p_, <span class="dt">M =</span> <span class="kw">matrix</span>(<span class="dv">1</span>, <span class="dv">4</span>, <span class="dv">20</span>))
<span class="kw">get.par</span>(<span class="st">&quot;Q&quot;</span>, p_)</code></pre>
<pre><code>## $value
##       [,1] [,2] [,3] [,4]
##  [1,]    0    1    1    1
##  [2,]    1    0    1    1
##  [3,]    1    1    0    1
##  [4,]    1    0    1    0
##  [5,]    1    1    0    0
##  [6,]    1    1    1    0
##  [7,]    1    1    1    0
##  [8,]    1    0    0    1
##  [9,]    1    1    1    1
## [10,]    0    0    0    1
## [11,]    1    0    1    1
## [12,]    0    1    1    0
## [13,]    1    0    1    1
## [14,]    1    0    0    0
## [15,]    1    1    0    1
## 
## $context
## Activated information in the context:
## [1] &quot;init.vals&quot;   &quot;items&quot;       &quot;concepts&quot;    &quot;students&quot;    &quot;Q&quot;          
## [6] &quot;M&quot;           &quot;concept.exp&quot;</code></pre>
</div>
<div id="generate-data-from-a-context-using-gen" class="section level2">
<h2>Generate data from a context using <code>gen</code></h2>
<p>Parameters activated in a single context are ensured non-conflict while being put together by <code>pars</code> (<em>condition 2</em>). If a context satisfies <em>condition 1</em>, there will be a way to generate data from it. <code>edmsyn</code> provides function <code>gen</code> that can check for <em>condition 2</em> and generates data with the specified model. For example, the following code generates data from <code>p</code> by POKS model (Partial Order Knowledge Structure model) twice:</p>
<pre class="sourceCode r"><code class="sourceCode r">poks.data &lt;-<span class="st"> </span><span class="kw">gen</span>(<span class="st">&quot;poks&quot;</span>, p, <span class="dt">n =</span> <span class="dv">2</span>, <span class="dt">progress =</span> <span class="ot">TRUE</span>)</code></pre>
<pre><code>## Generate poks from c(&quot;students&quot;, &quot;po&quot;, &quot;avg.success&quot;, &quot;alpha.c&quot;, &quot;alpha.p&quot;, &quot;p.min&quot;)
## Generate po from c(&quot;items&quot;, &quot;min.ntree&quot;, &quot;max.ntree&quot;, &quot;min.depth&quot;, &quot;max.depth&quot;, &quot;density&quot;, &quot;min.it.per.tree&quot;, &quot;max.it.per.tree&quot;, &quot;trans&quot;)
## Generate min.ntree from init.vals
## Generate max.ntree from items
## Generate min.depth from init.vals
## Generate max.depth from items
## Generate density from init.vals
## Generate min.it.per.tree from init.vals
## Generate max.it.per.tree from items
## Generate trans from init.vals
## Generate avg.success from init.vals
## Generate alpha.c from init.vals
## Generate alpha.p from init.vals
## Generate p.min from init.vals</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">poks.data</code></pre>
<pre><code>## [[1]]
## Activated information in the context:
##  [1] &quot;init.vals&quot;       &quot;items&quot;           &quot;concepts&quot;       
##  [4] &quot;students&quot;        &quot;po&quot;              &quot;avg.success&quot;    
##  [7] &quot;min.ntree&quot;       &quot;max.ntree&quot;       &quot;trans&quot;          
## [10] &quot;min.depth&quot;       &quot;max.depth&quot;       &quot;density&quot;        
## [13] &quot;min.it.per.tree&quot; &quot;max.it.per.tree&quot; &quot;alpha.c&quot;        
## [16] &quot;alpha.p&quot;         &quot;p.min&quot;           &quot;poks&quot;           
## 
## [[2]]
## Activated information in the context:
##  [1] &quot;init.vals&quot;       &quot;items&quot;           &quot;concepts&quot;       
##  [4] &quot;students&quot;        &quot;po&quot;              &quot;avg.success&quot;    
##  [7] &quot;min.ntree&quot;       &quot;max.ntree&quot;       &quot;trans&quot;          
## [10] &quot;min.depth&quot;       &quot;max.depth&quot;       &quot;density&quot;        
## [13] &quot;min.it.per.tree&quot; &quot;max.it.per.tree&quot; &quot;alpha.c&quot;        
## [16] &quot;alpha.p&quot;         &quot;p.min&quot;           &quot;poks&quot;</code></pre>
<p>As can be seen, <code>gen</code> returns a list of two components, correspond to two generations required by option <code>n = 2</code>. Each of the two is a context. <code>edmsyn</code> views the generated data as <em>a part of the context</em>. In fact, we can consider <em>data</em> as a parameter at highest level. In each of the generated context, there is a component whose name is the same as the specified model <code>poks</code>, this component contains the generated data.</p>
<pre class="sourceCode r"><code class="sourceCode r">poks.data[[<span class="dv">1</span>]]$poks</code></pre>
<pre><code>## $R
##       [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8] [,9] [,10] [,11] [,12] [,13]
##  [1,]    1    0    0    1    1    1    1    0    0     0     1     0     0
##  [2,]    0    0    1    1    1    0    0    1    0     0     1     0     1
##  [3,]    1    0    1    0    1    0    1    0    0     0     0     1     0
##  [4,]    0    1    0    1    0    1    1    0    1     1     1     0     1
##  [5,]    1    1    1    0    1    1    1    1    0     1     1     0     0
##  [6,]    1    1    0    1    1    0    0    0    1     0     0     0     0
##  [7,]    0    1    1    0    0    1    1    0    1     1     0     1     1
##  [8,]    0    0    0    1    1    1    1    0    0     0     0     0     1
##  [9,]    0    1    1    1    1    0    1    1    0     0     0     0     0
## [10,]    1    0    0    1    1    1    1    1    0     1     1     0     1
## [11,]    1    0    0    1    1    0    0    1    0     1     1     0     1
## [12,]    0    1    0    1    0    0    0    0    0     1     1     1     1
## [13,]    1    0    1    0    0    0    1    0    0     1     0     0     0
## [14,]    1    0    1    1    1    1    1    1    1     1     1     0     1
## [15,]    0    1    0    0    1    0    0    1    0     1     1     0     0
## [16,]    0    0    0    0    1    1    0    0    0     0     0     0     1
## [17,]    1    0    1    1    1    0    1    0    1     1     1     0     1
## [18,]    0    0    1    1    1    1    1    1    1     1     0     1     0
## [19,]    0    1    0    0    1    0    0    1    0     1     1     0     1
## [20,]    1    1    0    0    1    1    1    1    1     1     0     1     0
##       [,14] [,15] [,16] [,17] [,18] [,19] [,20]
##  [1,]     0     0     0     0     0     0     0
##  [2,]     0     1     1     0     1     1     1
##  [3,]     0     1     1     0     1     0     0
##  [4,]     1     0     1     1     1     0     1
##  [5,]     0     1     0     0     1     0     1
##  [6,]     0     0     1     0     0     1     0
##  [7,]     0     0     1     1     1     1     1
##  [8,]     0     1     0     1     0     1     1
##  [9,]     0     1     1     0     0     1     0
## [10,]     0     1     0     1     1     1     0
## [11,]     0     1     0     1     0     0     1
## [12,]     1     0     0     0     1     0     0
## [13,]     1     0     1     0     1     0     0
## [14,]     1     1     1     1     1     0     1
## [15,]     1     0     0     0     0     1     0
## [16,]     0     1     1     0     0     0     1
## [17,]     0     0     1     1     0     0     1
## [18,]     0     1     0     1     0     0     1
## [19,]     0     0     1     0     1     1     0
## [20,]     1     0     0     1     1     1     1
## 
## $alpha.c
## [1] 0.25
## 
## $alpha.p
## [1] 0.25
## 
## $p.min
## [1] 0.5</code></pre>
<p>Looking at the result, the <code>poks</code> component is a list with component <code>R</code> being the response matrix, and other components representing other information that is needed for the learning process. This point will be explained in later sections.</p>
<p>Since data is considered to be just another parameter in a context, we can actually use <code>get.par</code> to generate data. In fact, <code>gen</code> is simply a wrapper of <code>get.par</code> with an additional feature <code>n</code>, where users can specify how many times the process should be repeated.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">get.par</span>(<span class="st">&quot;poks&quot;</span>, p)</code></pre>
<pre><code>## $value
## $value$R
##       [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8] [,9] [,10] [,11] [,12] [,13]
##  [1,]    0    1    1    1    1    1    0    0    0     1     0     0     0
##  [2,]    1    1    1    1    1    0    1    0    1     0     1     1     1
##  [3,]    0    1    1    0    1    1    0    0    0     0     1     0     1
##  [4,]    1    1    1    1    0    0    1    1    0     0     1     1     0
##  [5,]    0    1    0    0    0    0    0    0    0     0     0     1     1
##  [6,]    0    1    0    0    1    0    0    0    0     0     1     0     0
##  [7,]    1    1    1    1    1    0    1    0    1     0     0     0     1
##  [8,]    0    1    0    0    0    0    1    1    1     1     0     1     0
##  [9,]    0    0    0    1    0    0    0    0    0     1     0     0     0
## [10,]    1    1    0    1    1    0    0    1    0     1     0     0     1
## [11,]    1    1    1    1    1    1    1    1    0     1     1     1     1
## [12,]    0    1    1    1    1    0    0    0    1     1     1     1     1
## [13,]    0    0    1    1    1    0    1    1    0     1     1     0     0
## [14,]    0    0    1    1    1    1    1    0    1     0     1     0     1
## [15,]    1    0    0    0    1    1    0    1    1     0     1     0     1
## [16,]    0    0    1    1    0    0    0    0    0     0     0     0     0
## [17,]    1    0    0    1    0    1    0    1    1     0     1     0     1
## [18,]    1    1    0    0    0    1    1    0    0     0     0     1     1
## [19,]    1    1    0    1    1    1    0    1    1     1     1     1     1
## [20,]    0    1    1    1    1    1    0    0    0     0     1     0     0
##       [,14] [,15] [,16] [,17] [,18] [,19] [,20]
##  [1,]     1     0     0     0     1     0     0
##  [2,]     1     1     1     1     1     1     1
##  [3,]     1     0     0     0     1     0     1
##  [4,]     0     1     1     0     1     0     0
##  [5,]     1     0     1     1     0     1     0
##  [6,]     0     1     0     1     0     0     0
##  [7,]     1     0     1     0     1     0     0
##  [8,]     0     1     1     1     0     0     1
##  [9,]     0     0     1     0     1     0     1
## [10,]     1     1     0     1     1     1     0
## [11,]     1     1     1     1     1     0     1
## [12,]     1     1     1     1     1     1     1
## [13,]     1     0     1     0     0     0     1
## [14,]     1     0     0     1     1     0     0
## [15,]     0     0     1     0     0     1     0
## [16,]     0     0     0     0     1     0     0
## [17,]     1     0     1     1     1     0     0
## [18,]     1     0     0     0     0     0     0
## [19,]     1     0     1     1     1     0     0
## [20,]     0     0     0     1     1     0     0
## 
## $value$alpha.c
## [1] 0.25
## 
## $value$alpha.p
## [1] 0.25
## 
## $value$p.min
## [1] 0.5
## 
## 
## $context
## Activated information in the context:
##  [1] &quot;init.vals&quot;       &quot;items&quot;           &quot;concepts&quot;       
##  [4] &quot;students&quot;        &quot;po&quot;              &quot;avg.success&quot;    
##  [7] &quot;min.ntree&quot;       &quot;max.ntree&quot;       &quot;trans&quot;          
## [10] &quot;min.depth&quot;       &quot;max.depth&quot;       &quot;density&quot;        
## [13] &quot;min.it.per.tree&quot; &quot;max.it.per.tree&quot; &quot;alpha.c&quot;        
## [16] &quot;alpha.p&quot;         &quot;p.min&quot;           &quot;poks&quot;</code></pre>
<p>Following is two more examples on using <code>gen</code>. In the first one, <code>gen</code> will generate data by POKS model again, but from a different context where user have more control on the Partial Order structure of items. In the second one, <code>gen</code> generates data by DINA model (Deterministic Input Noisy And model).</p>
<p><strong>Example 1</strong></p>
<p>Suppose this time we want the Partial Order structure of items to have two connected components, each with height 3 and no transitive link between items, this can be done by updating <code>p</code> with some more parameters. To visualize this structure, whose dependency matrix will be component <code>po</code> in the context returned by <code>gen</code>, we can use function <code>viz</code>.</p>
<pre class="sourceCode r"><code class="sourceCode r">p &lt;-<span class="st"> </span><span class="kw">pars</span>(p, <span class="dt">min.depth =</span> <span class="dv">3</span>, <span class="dt">max.depth =</span> <span class="dv">3</span>, <span class="dt">min.ntree =</span> <span class="dv">2</span>, <span class="dt">max.ntree =</span> <span class="dv">2</span>, <span class="dt">trans =</span> <span class="ot">FALSE</span>)
poks.data &lt;-<span class="st"> </span><span class="kw">gen</span>(<span class="st">&quot;poks&quot;</span>, p)
v &lt;-<span class="st"> </span><span class="kw">viz</span>(poks.data$po)</code></pre>
<p><img src="data:image/png;base64,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" /></p>
<p><code>v</code> contains analysed information about the structure. Its first component is identical to <code>po</code>, the second one is a list with equal number of components to the number of connected components of the structure <code>po</code> represents. Each of these components is in turn a list with first component being the corresponding dependency matrix, and sencond component represents how many items are there on each level of depth.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">print</span>(v)</code></pre>
<pre><code>## $ks
##    1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20
## 1  0 0 0 0 0 0 0 0 0  0  0  0  0  0  0  0  0  0  0  0
## 2  0 0 1 0 0 0 0 0 0  0  0  0  0  0  0  0  1  0  0  0
## 3  0 0 0 0 0 1 0 0 0  0  0  0  0  0  0  0  0  0  0  0
## 4  0 0 0 0 0 0 0 0 0  0  0  0  0  0  0  0  0  0  0  0
## 5  0 0 0 0 0 0 0 0 0  0  0  0  0  0  0  0  0  0  0  0
## 6  0 0 0 0 1 0 0 0 0  0  0  0  0  0  0  0  0  0  1  1
## 7  0 0 0 0 0 0 0 0 0  0  0  0  0  0  0  0  0  0  0  0
## 8  0 0 0 0 0 0 0 0 0  0  0  0  0  0  0  0  0  0  0  0
## 9  0 0 0 0 0 0 0 0 0  0  0  0  0  0  0  0  0  0  0  0
## 10 0 0 0 0 0 0 0 0 0  0  0  0  0  0  0  0  0  0  0  0
## 11 1 0 0 1 0 0 1 1 1  1  0  0  1  0  0  1  0  1  0  0
## 12 0 0 0 0 0 0 0 0 0  0  0  0  0  1  1  0  0  0  0  0
## 13 0 0 0 0 0 0 0 0 0  0  0  0  0  0  0  0  0  0  0  0
## 14 0 0 0 0 0 0 0 0 0  0  1  0  0  0  0  0  0  0  0  0
## 15 0 0 0 0 0 0 0 0 0  0  0  0  0  0  0  0  0  0  0  0
## 16 0 0 0 0 0 0 0 0 0  0  0  0  0  0  0  0  0  0  0  0
## 17 0 0 0 0 0 0 0 0 0  0  0  0  0  0  0  0  0  0  0  0
## 18 0 0 0 0 0 0 0 0 0  0  0  0  0  0  0  0  0  0  0  0
## 19 0 0 0 0 0 0 0 0 0  0  0  0  0  0  0  0  0  0  0  0
## 20 0 0 0 0 0 0 0 0 0  0  0  0  0  0  0  0  0  0  0  0
## 
## $comp
## $comp[[1]]
## $comp[[1]]$matrix
##    12 14 15 11 1 4 7 8 9 10 13 16 18
## 12  0  1  1  0 0 0 0 0 0  0  0  0  0
## 14  0  0  0  1 0 0 0 0 0  0  0  0  0
## 15  0  0  0  0 0 0 0 0 0  0  0  0  0
## 11  0  0  0  0 1 1 1 1 1  1  1  1  1
## 1   0  0  0  0 0 0 0 0 0  0  0  0  0
## 4   0  0  0  0 0 0 0 0 0  0  0  0  0
## 7   0  0  0  0 0 0 0 0 0  0  0  0  0
## 8   0  0  0  0 0 0 0 0 0  0  0  0  0
## 9   0  0  0  0 0 0 0 0 0  0  0  0  0
## 10  0  0  0  0 0 0 0 0 0  0  0  0  0
## 13  0  0  0  0 0 0 0 0 0  0  0  0  0
## 16  0  0  0  0 0 0 0 0 0  0  0  0  0
## 18  0  0  0  0 0 0 0 0 0  0  0  0  0
## 
## $comp[[1]]$level.sizes
## [1] 1 2 1 9
## 
## 
## $comp[[2]]
## $comp[[2]]$matrix
##    2 3 17 6 5 19 20
## 2  0 1  1 0 0  0  0
## 3  0 0  0 1 0  0  0
## 17 0 0  0 0 0  0  0
## 6  0 0  0 0 1  1  1
## 5  0 0  0 0 0  0  0
## 19 0 0  0 0 0  0  0
## 20 0 0  0 0 0  0  0
## 
## $comp[[2]]$level.sizes
## [1] 1 2 1 3</code></pre>
<p><strong>Example 2</strong></p>
<pre class="sourceCode r"><code class="sourceCode r">dina.data &lt;-<span class="st"> </span><span class="kw">gen</span>(<span class="st">&quot;dina&quot;</span>, p, <span class="dt">progress =</span> <span class="ot">TRUE</span>)</code></pre>
<pre><code>## Generate dina from c(&quot;Q&quot;, &quot;M&quot;, &quot;slip&quot;, &quot;guess&quot;)
## Generate Q from c(&quot;items&quot;, &quot;concepts&quot;)
## Generate M from c(&quot;students&quot;, &quot;skill.space&quot;, &quot;skill.dist&quot;)
## Generate skill.space from c(&quot;concepts&quot;, &quot;skill.space.size&quot;)
## Generate skill.space.size from concepts
## Generate skill.dist from skill.space.size
## Generate slip from items
## Generate guess from items</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">dina.data</code></pre>
<pre><code>## Activated information in the context:
##  [1] &quot;init.vals&quot;        &quot;items&quot;            &quot;concepts&quot;        
##  [4] &quot;students&quot;         &quot;min.ntree&quot;        &quot;max.ntree&quot;       
##  [7] &quot;trans&quot;            &quot;min.depth&quot;        &quot;max.depth&quot;       
## [10] &quot;slip&quot;             &quot;guess&quot;            &quot;Q&quot;               
## [13] &quot;M&quot;                &quot;skill.space.size&quot; &quot;skill.space&quot;     
## [16] &quot;skill.dist&quot;       &quot;dina&quot;</code></pre>
<p>As reported by <code>gen</code>, unlike the previous case, <code>M</code> is now generated from three parameters <code>students</code>, <code>skill.space</code>, and <code>skill.dist</code> instead of <code>concept.exp</code> and <code>students</code>. The reason for this particular situation is that, <code>skill.space</code> and <code>skill.dist</code> are formal parameters of DINA model, so they should be used in the process of generating data. Again, we can access this data by referring to component <code>dina</code> of the generated context. Besides the response matrix, <code>dina.data$dina</code> also have another component <code>Q</code>, this is because of the fact that under DINA’s view, a response matrix without its corresponding Q-matrix is incomplete.</p>
<pre class="sourceCode r"><code class="sourceCode r">dina.data$dina</code></pre>
<pre><code>## $R
##       [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8] [,9] [,10] [,11] [,12] [,13]
##  [1,]    0    1    0    0    1    0    1    1    1     0     1     0     1
##  [2,]    1    0    0    0    0    1    0    1    0     1     1     1     0
##  [3,]    1    1    1    1    0    1    1    0    1     0     0     1     0
##  [4,]    1    1    0    0    0    0    0    1    1     1     1     0     0
##  [5,]    0    0    0    0    0    0    0    0    0     0     0     1     0
##  [6,]    1    1    0    0    0    1    0    0    0     0     0     0     0
##  [7,]    0    0    0    0    0    0    1    0    0     0     0     0     0
##  [8,]    0    0    1    1    0    1    1    0    0     0     1     0     0
##  [9,]    1    0    0    0    0    0    0    0    0     0     0     0     0
## [10,]    0    1    1    0    1    1    1    1    1     0     1     1     1
## [11,]    0    0    1    0    0    0    0    0    0     1     1     0     1
## [12,]    0    0    0    0    0    1    0    1    0     1     0     0     1
## [13,]    0    1    0    0    1    0    0    0    0     0     0     1     0
## [14,]    1    1    1    1    1    0    1    1    1     1     0     0     1
## [15,]    0    0    1    1    1    0    1    1    1     1     1     1     1
## [16,]    1    1    0    1    0    0    0    0    0     0     0     0     0
## [17,]    0    0    0    0    1    0    0    0    0     0     0     1     0
## [18,]    0    1    0    1    0    0    0    1    0     1     0     0     0
## [19,]    1    1    1    1    1    1    1    0    1     1     1     1     0
## [20,]    1    1    1    1    1    0    1    1    1     1     0     0     1
##       [,14] [,15] [,16] [,17] [,18] [,19] [,20]
##  [1,]     1     0     1     0     1     0     1
##  [2,]     0     1     0     1     0     0     0
##  [3,]     1     1     1     0     1     0     0
##  [4,]     0     0     0     0     1     1     1
##  [5,]     0     1     0     0     0     1     1
##  [6,]     1     1     1     1     0     0     1
##  [7,]     0     0     0     0     0     0     0
##  [8,]     0     0     0     0     0     1     1
##  [9,]     1     0     0     0     0     0     0
## [10,]     0     1     1     1     1     1     1
## [11,]     1     0     0     1     0     1     1
## [12,]     0     0     1     0     1     0     0
## [13,]     0     0     0     0     0     0     1
## [14,]     0     1     0     0     1     1     1
## [15,]     1     1     1     0     1     0     0
## [16,]     0     0     0     0     0     0     0
## [17,]     0     0     0     1     0     0     1
## [18,]     0     0     0     0     1     0     0
## [19,]     0     1     0     1     1     1     1
## [20,]     1     1     1     1     1     1     1
## 
## $Q
##       [,1] [,2] [,3] [,4] [,5]
##  [1,]    0    1    0    1    1
##  [2,]    1    1    0    0    0
##  [3,]    1    0    1    1    1
##  [4,]    1    0    0    0    0
##  [5,]    1    1    0    0    1
##  [6,]    0    0    0    1    0
##  [7,]    0    0    0    0    1
##  [8,]    0    0    1    0    1
##  [9,]    1    0    1    1    0
## [10,]    1    0    1    1    1
## [11,]    1    1    0    1    0
## [12,]    1    1    1    1    0
## [13,]    1    0    1    1    1
## [14,]    1    0    0    0    1
## [15,]    1    0    1    1    1
## [16,]    0    0    1    0    1
## [17,]    0    1    0    0    1
## [18,]    0    0    1    0    0
## [19,]    1    1    0    1    1
## [20,]    1    1    0    1    0</code></pre>
<p><code>gen</code> only allow one model and one context at a time, we can save time generating data across different models and contexts using <code>gen.apply</code>. Setting the argument <code>multiply</code> to <code>TRUE</code> or <code>FALSE</code> decides what kind of matching will be made between models and contexts.</p>
<pre class="sourceCode r"><code class="sourceCode r">dat<span class="fl">.1</span> &lt;-<span class="st"> </span><span class="kw">gen.apply</span>(ALL.MODELS, <span class="kw">list</span>(<span class="dt">p1 =</span> p,<span class="dt">p2 =</span> p_), <span class="dt">multiply =</span> <span class="ot">FALSE</span>, <span class="dt">n =</span> <span class="dv">5</span>)
dat<span class="fl">.1</span></code></pre>
<pre><code>##            01      02      03      04      05     
## exp.p1     List,62 List,62 List,62 List,62 List,62
## irt.p2     List,62 List,62 List,62 List,62 List,62
## poks.p1    List,62 List,62 List,62 List,62 List,62
## dina.p2    List,62 List,62 List,62 List,62 List,62
## dino.p1    List,62 List,62 List,62 List,62 List,62
## lin.avg.p2 List,62 List,62 List,62 List,62 List,62
## nmf.con.p1 List,62 List,62 List,62 List,62 List,62
## nmf.dis.p2 List,62 List,62 List,62 List,62 List,62
## nmf.com.p1 List,62 List,62 List,62 List,62 List,62
## bkt.p2     List,62 List,62 List,62 List,62 List,62</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">dat<span class="fl">.1</span>[<span class="st">&quot;dino.p1&quot;</span>, <span class="dv">3</span>]</code></pre>
<pre><code>## [[1]]
## Activated information in the context:
##  [1] &quot;init.vals&quot;        &quot;items&quot;            &quot;concepts&quot;        
##  [4] &quot;students&quot;         &quot;min.ntree&quot;        &quot;max.ntree&quot;       
##  [7] &quot;trans&quot;            &quot;min.depth&quot;        &quot;max.depth&quot;       
## [10] &quot;slip&quot;             &quot;guess&quot;            &quot;Q&quot;               
## [13] &quot;M&quot;                &quot;skill.space.size&quot; &quot;skill.space&quot;     
## [16] &quot;skill.dist&quot;       &quot;dino&quot;</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">dat<span class="fl">.2</span> &lt;-<span class="st"> </span><span class="kw">gen.apply</span>(ALL.MODELS, <span class="kw">list</span>(<span class="dt">p1 =</span> p,<span class="dt">p2 =</span> p_), <span class="dt">multiply =</span> <span class="ot">TRUE</span>, <span class="dt">n =</span> <span class="dv">5</span>)
dat<span class="fl">.2</span></code></pre>
<pre><code>##         p1     p2    
## exp     List,5 List,5
## irt     List,5 List,5
## poks    List,5 List,5
## dina    List,5 List,5
## dino    List,5 List,5
## lin.avg List,5 List,5
## nmf.con List,5 List,5
## nmf.dis List,5 List,5
## nmf.com List,5 List,5
## bkt     List,5 List,5</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">dat<span class="fl">.2</span>[<span class="st">&quot;nmf.com&quot;</span>, <span class="st">&quot;p2&quot;</span>]</code></pre>
<pre><code>## [[1]]
## [[1]][[1]]
## Activated information in the context:
## [1] &quot;init.vals&quot;   &quot;items&quot;       &quot;concepts&quot;    &quot;students&quot;    &quot;Q&quot;          
## [6] &quot;M&quot;           &quot;concept.exp&quot; &quot;nmf.com&quot;    
## 
## [[1]][[2]]
## Activated information in the context:
## [1] &quot;init.vals&quot;   &quot;items&quot;       &quot;concepts&quot;    &quot;students&quot;    &quot;Q&quot;          
## [6] &quot;M&quot;           &quot;concept.exp&quot; &quot;nmf.com&quot;    
## 
## [[1]][[3]]
## Activated information in the context:
## [1] &quot;init.vals&quot;   &quot;items&quot;       &quot;concepts&quot;    &quot;students&quot;    &quot;Q&quot;          
## [6] &quot;M&quot;           &quot;concept.exp&quot; &quot;nmf.com&quot;    
## 
## [[1]][[4]]
## Activated information in the context:
## [1] &quot;init.vals&quot;   &quot;items&quot;       &quot;concepts&quot;    &quot;students&quot;    &quot;Q&quot;          
## [6] &quot;M&quot;           &quot;concept.exp&quot; &quot;nmf.com&quot;    
## 
## [[1]][[5]]
## Activated information in the context:
## [1] &quot;init.vals&quot;   &quot;items&quot;       &quot;concepts&quot;    &quot;students&quot;    &quot;Q&quot;          
## [6] &quot;M&quot;           &quot;concept.exp&quot; &quot;nmf.com&quot;</code></pre>
</div>
<div id="learning-the-most-probable-context-from-data-using-learn" class="section level2">
<h2>Learning the most probable context from data using <code>learn</code></h2>
<p>Let’s say we want to get the third data generation from the matching between context <code>p1</code> and model <code>poks</code>, and use POKS model to learn from this data.</p>
<pre class="sourceCode r"><code class="sourceCode r">poks.data &lt;-<span class="st"> </span>dat<span class="fl">.2</span>[<span class="st">&quot;poks&quot;</span>, <span class="st">&quot;p1&quot;</span>][[<span class="dv">1</span>]][[<span class="dv">3</span>]]
poks.data</code></pre>
<pre><code>## Activated information in the context:
##  [1] &quot;init.vals&quot;       &quot;items&quot;           &quot;concepts&quot;       
##  [4] &quot;students&quot;        &quot;po&quot;              &quot;avg.success&quot;    
##  [7] &quot;min.ntree&quot;       &quot;max.ntree&quot;       &quot;trans&quot;          
## [10] &quot;min.depth&quot;       &quot;max.depth&quot;       &quot;density&quot;        
## [13] &quot;min.it.per.tree&quot; &quot;max.it.per.tree&quot; &quot;alpha.c&quot;        
## [16] &quot;alpha.p&quot;         &quot;p.min&quot;           &quot;poks&quot;</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">poks.data$poks</code></pre>
<pre><code>## $R
##       [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8] [,9] [,10] [,11] [,12] [,13]
##  [1,]    0    0    0    0    0    0    0    1    0     0     0     0     0
##  [2,]    0    1    1    1    0    0    1    1    0     0     1     0     0
##  [3,]    0    1    0    0    0    1    1    1    0     0     0     0     0
##  [4,]    1    1    1    0    0    0    1    0    0     1     1     1     0
##  [5,]    0    0    1    1    0    0    1    1    0     1     0     1     0
##  [6,]    0    0    1    1    0    1    1    1    1     1     0     0     0
##  [7,]    0    0    0    0    1    0    1    1    0     0     0     0     0
##  [8,]    1    1    1    1    1    1    1    1    1     1     0     1     1
##  [9,]    0    1    1    0    0    0    1    1    0     1     0     0     0
## [10,]    0    1    0    1    0    0    1    1    0     0     0     1     0
## [11,]    0    0    0    1    0    0    0    0    1     0     1     0     1
## [12,]    1    1    1    1    1    1    1    1    0     1     1     1     1
## [13,]    1    0    0    0    0    0    0    0    0     0     1     0     0
## [14,]    1    1    0    1    1    1    1    1    1     0     1     1     1
## [15,]    0    1    1    1    1    0    1    1    1     1     1     0     1
## [16,]    1    0    0    0    1    1    0    0    0     0     1     0     0
## [17,]    1    0    1    0    1    1    1    1    1     0     1     1     1
## [18,]    0    1    1    1    0    0    1    1    0     1     0     1     0
## [19,]    1    0    0    0    0    1    0    1    0     0     0     1     0
## [20,]    0    0    0    1    1    1    0    0    1     0     0     0     0
##       [,14] [,15] [,16] [,17] [,18] [,19] [,20]
##  [1,]     1     0     1     0     1     1     0
##  [2,]     1     1     1     1     1     1     0
##  [3,]     1     0     1     1     0     1     1
##  [4,]     0     0     1     0     0     1     1
##  [5,]     0     0     1     1     0     1     0
##  [6,]     1     1     1     0     0     1     1
##  [7,]     1     0     0     0     1     0     1
##  [8,]     1     1     1     1     0     1     0
##  [9,]     0     0     1     1     0     1     0
## [10,]     0     0     1     0     0     1     0
## [11,]     0     0     0     0     0     1     0
## [12,]     0     1     1     1     0     1     1
## [13,]     1     0     0     0     1     0     0
## [14,]     1     0     1     1     1     1     1
## [15,]     1     0     1     1     1     1     0
## [16,]     1     1     1     1     1     0     0
## [17,]     1     0     1     1     1     1     1
## [18,]     1     0     1     1     1     1     1
## [19,]     1     0     1     0     0     0     0
## [20,]     1     0     0     0     0     0     1
## 
## $alpha.c
## [1] 0.25
## 
## $alpha.p
## [1] 0.25
## 
## $p.min
## [1] 0.5</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">learn.poks &lt;-<span class="st"> </span><span class="kw">learn</span>(<span class="st">&quot;poks&quot;</span>, <span class="dt">data =</span> poks.data$poks)</code></pre>
<pre><code>## Learning by 'poks' ...</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">learn.poks</code></pre>
<pre><code>## Activated information in the context:
##  [1] &quot;init.vals&quot;   &quot;items&quot;       &quot;state&quot;       &quot;po&quot;          &quot;or.t&quot;       
##  [6] &quot;or.f&quot;        &quot;student.var&quot; &quot;avg.success&quot; &quot;alpha.c&quot;     &quot;alpha.p&quot;    
## [11] &quot;p.min&quot;       &quot;poks&quot;</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">learn.poks$po</code></pre>
<pre><code>##       [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8] [,9] [,10] [,11] [,12] [,13]
##  [1,]    0    1    1    0    0    0    1    0    0     1     0     1     1
##  [2,]    1    0    1    0    1    0    0    0    1     1     0     0     0
##  [3,]    1    1    0    0    0    1    0    0    1     1     0     0     0
##  [4,]    0    0    0    0    1    0    0    0    1     1     0     1     0
##  [5,]    0    1    0    1    0    1    0    1    1     1     0     1     0
##  [6,]    0    0    1    0    1    0    0    0    0     0     0     0     0
##  [7,]    1    0    0    0    0    0    0    1    0     0     0     1     0
##  [8,]    0    0    0    0    0    0    0    0    0     0     0     0     0
##  [9,]    0    1    1    1    1    0    0    0    0     1     0     0     0
## [10,]    1    1    1    1    1    0    0    0    1     0     0     0     0
## [11,]    0    0    0    0    0    0    0    0    0     0     0     0     0
## [12,]    0    0    0    0    0    0    0    0    0     0     0     0     0
## [13,]    1    0    0    0    0    1    0    1    0     0     0     1     0
## [14,]    0    0    0    0    0    0    0    0    0     0     0     0     0
## [15,]    0    1    0    0    0    0    0    0    1     0     0     0     0
## [16,]    0    0    0    1    0    1    0    0    0     0     0     0     1
## [17,]    0    0    0    0    0    0    0    0    0     0     0     0     0
## [18,]    1    1    1    1    1    0    0    0    1     1     0     0     0
## [19,]    1    0    0    0    0    0    0    0    0     0     0     0     0
## [20,]    0    1    0    0    0    0    1    0    0     0     0     1     0
##       [,14] [,15] [,16] [,17] [,18] [,19] [,20]
##  [1,]     0     0     0     0     1     1     0
##  [2,]     0     1     0     0     1     0     0
##  [3,]     1     0     0     0     1     0     0
##  [4,]     0     0     0     0     1     0     0
##  [5,]     0     0     0     0     1     0     0
##  [6,]     0     0     0     0     0     0     0
##  [7,]     0     0     0     0     0     0     1
##  [8,]     0     0     0     0     0     0     0
##  [9,]     0     1     0     0     1     0     0
## [10,]     0     0     0     0     1     0     0
## [11,]     0     0     0     0     1     0     0
## [12,]     0     0     0     0     0     0     0
## [13,]     0     0     1     0     0     0     0
## [14,]     0     0     0     1     0     0     0
## [15,]     0     0     0     0     1     0     0
## [16,]     0     0     0     0     0     0     0
## [17,]     1     0     0     0     0     0     0
## [18,]     0     1     0     0     0     0     0
## [19,]     0     1     0     0     0     0     0
## [20,]     0     0     0     0     0     0     0</code></pre>
<p>If we want to learn from this same data using DINA model, <code>poks.data$poks</code> cannot be used because components <code>p.min</code>, <code>alpha.p</code>, <code>alpha.c</code> are meaningless to DINA. In order to do the task, one will need to hand-design this data. DINA requires one additional component besides the response matrix: Q-matrix. Normally, Q-matrix is expected to be expert-defined, however this illustration will just simply generate it randomly.</p>
<pre class="sourceCode r"><code class="sourceCode r">Q &lt;-<span class="st"> </span><span class="kw">get.par</span>(<span class="st">&quot;Q&quot;</span>, p)$value
R &lt;-<span class="st"> </span>poks.data$poks$R
dina.data &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="dt">R=</span>R,<span class="dt">Q=</span>Q)
learn.dina &lt;-<span class="st"> </span><span class="kw">learn</span>(<span class="st">&quot;dina&quot;</span>, <span class="dt">data =</span> dina.data)</code></pre>
<pre><code>## Learning by 'dina' ...</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">learn.dina</code></pre>
<pre><code>## Activated information in the context:
##  [1] &quot;init.vals&quot;        &quot;items&quot;            &quot;concepts&quot;        
##  [4] &quot;students&quot;         &quot;slip&quot;             &quot;guess&quot;           
##  [7] &quot;Q&quot;                &quot;M&quot;                &quot;skill.space.size&quot;
## [10] &quot;skill.space&quot;      &quot;skill.dist&quot;       &quot;concept.exp&quot;     
## [13] &quot;dina&quot;</code></pre>
<p>Here we have a look at two parameters <code>skill.space</code> and <code>skill.dist</code></p>
<pre class="sourceCode r"><code class="sourceCode r">learn.dina$skill.space</code></pre>
<pre><code>##      [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8] [,9] [,10] [,11] [,12] [,13]
## [1,]    0    1    0    0    0    0    1    1    1     1     0     0     0
## [2,]    0    0    1    0    0    0    1    0    0     0     1     1     1
## [3,]    0    0    0    1    0    0    0    1    0     0     1     0     0
## [4,]    0    0    0    0    1    0    0    0    1     0     0     1     0
## [5,]    0    0    0    0    0    1    0    0    0     1     0     0     1
##      [,14] [,15] [,16] [,17] [,18] [,19] [,20] [,21] [,22] [,23] [,24]
## [1,]     0     0     0     1     1     1     1     1     1     0     0
## [2,]     0     0     0     1     1     1     0     0     0     1     1
## [3,]     1     1     0     1     0     0     1     1     0     1     1
## [4,]     1     0     1     0     1     0     1     0     1     1     0
## [5,]     0     1     1     0     0     1     0     1     1     0     1
##      [,25] [,26] [,27] [,28] [,29] [,30] [,31] [,32]
## [1,]     0     0     1     1     1     1     0     1
## [2,]     1     0     1     1     1     0     1     1
## [3,]     0     1     1     1     0     1     1     1
## [4,]     1     1     1     0     1     1     1     1
## [5,]     1     1     0     1     1     1     1     1</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">learn.dina$skill.dist</code></pre>
<pre><code>##  [1] 2.916395e-02 2.916395e-02 2.916395e-02 2.626001e-02 2.916395e-02
##  [6] 2.916395e-02 5.298163e-05 1.226434e-23 1.220608e-20 2.916395e-02
## [11] 2.626001e-02 4.833140e-02 2.916395e-02 2.626001e-02 3.868646e-02
## [16] 2.916395e-02 4.723692e-39 9.509919e-02 5.298163e-05 4.067673e-19
## [21] 1.177098e-23 6.973717e-22 1.786416e-31 6.359047e-26 9.465330e-02
## [26] 3.565170e-45 5.629507e-07 1.061312e-01 1.604323e-18 5.718876e-02
## [31] 0.000000e+00 2.477115e-01</code></pre>
</div>
<div id="generate-synthetic-data-using-syn" class="section level2">
<h2>Generate synthetic data using <code>syn</code></h2>
<p>Generating synthetic data includes three steps:</p>
<ol style="list-style-type: decimal">
<li><p>Learn the most probable context from a given data by a specified model.</p></li>
<li><p>Modify the learned context by keeping some of the parameters, changing some and discarding the rest.</p></li>
<li><p>Generate data from the new context.</p></li>
</ol>
<p><code>edmsyn</code> provides function <code>syn</code> that automates the above process, specifically, <code>syn</code> consists of three parts:</p>
<ol style="list-style-type: decimal">
<li><p>Learn the most probable context by using <code>learn</code>.</p></li>
<li><p>Keep some parameters (the default choice is stored in <code>KEEP</code><a href="#fn2" class="footnoteRef" id="fnref2"><sup>2</sup></a>) and discard the rest, also allow the user to change parameter <code>students</code>.</p></li>
</ol>
<pre class="sourceCode r"><code class="sourceCode r">KEEP</code></pre>
<pre><code>## $exp
## [1] &quot;avg.success&quot; &quot;it.exp&quot;      &quot;student.var&quot;
## 
## $irt
## [1] &quot;dis&quot;      &quot;dif&quot;      &quot;abi.mean&quot; &quot;abi.sd&quot;  
## 
## $poks
## [1] &quot;po&quot;          &quot;student.var&quot; &quot;state&quot;       &quot;alpha.c&quot;     &quot;alpha.p&quot;    
## [6] &quot;p.min&quot;      
## 
## $dina
## [1] &quot;Q&quot;           &quot;skill.space&quot; &quot;skill.dist&quot;  &quot;slip&quot;        &quot;guess&quot;      
## 
## $dino
## [1] &quot;Q&quot;           &quot;skill.space&quot; &quot;skill.dist&quot;  &quot;slip&quot;        &quot;guess&quot;      
## 
## $lin.avg
## [1] &quot;Q&quot;         &quot;S.st.var&quot;  &quot;S.con.exp&quot;
## 
## $nmf.con
## [1] &quot;Q&quot;           &quot;concept.exp&quot;
## 
## $nmf.dis
## [1] &quot;Q&quot;           &quot;concept.exp&quot;
## 
## $nmf.com
## [1] &quot;Q&quot;           &quot;concept.exp&quot;
## 
## $bkt
##  [1] &quot;S.st.var&quot;         &quot;S.con.exp&quot;        &quot;L.st.var&quot;        
##  [4] &quot;L.con.exp&quot;        &quot;bkt.slip.st.var&quot;  &quot;bkt.slip.it.exp&quot; 
##  [7] &quot;bkt.guess.st.var&quot; &quot;bkt.guess.it.exp&quot; &quot;time&quot;            
## [10] &quot;order&quot;            &quot;per.item&quot;         &quot;Q&quot;</code></pre>
<ol start="3" style="list-style-type: decimal">
<li>Generate synthetic data from this new context by <code>gen</code></li>
</ol>
<p>Now we synthesize <code>dina.data</code> with a new number of student</p>
<pre class="sourceCode r"><code class="sourceCode r">dina.syn &lt;-<span class="st"> </span><span class="kw">syn</span>(<span class="st">&quot;dina&quot;</span>, <span class="dt">data =</span> dina.data, <span class="dt">students =</span> <span class="dv">12</span>, <span class="dt">n =</span> <span class="dv">10</span>)</code></pre>
<pre><code>## Learning by 'dina' ...</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">dina.syn$synthetic[[<span class="dv">5</span>]]$dina</code></pre>
<pre><code>## $R
##       [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8] [,9] [,10] [,11] [,12]
##  [1,]    0    0    0    0    0    0    0    0    0     0     0     0
##  [2,]    1    1    1    1    1    1    1    0    0     0     0     1
##  [3,]    1    1    0    0    1    0    0    0    0     0     0     1
##  [4,]    1    1    1    1    1    1    0    0    0     1     0     1
##  [5,]    1    0    1    1    1    0    1    0    0     0     1     0
##  [6,]    1    0    0    1    1    1    1    1    1     1     0     1
##  [7,]    1    0    0    0    0    1    0    1    0     0     0     0
##  [8,]    1    1    1    1    1    1    1    1    0     0     1     1
##  [9,]    1    0    0    1    1    0    1    0    0     0     1     1
## [10,]    1    1    0    0    0    0    0    0    0     0     0     1
## [11,]    0    0    1    0    0    0    0    0    0     0     0     1
## [12,]    1    1    1    1    1    0    1    0    1     1     1     1
## [13,]    0    0    0    0    1    0    0    1    1     0     0     0
## [14,]    1    1    1    0    1    0    1    1    1     0     0     1
## [15,]    1    0    1    1    1    0    1    0    0     1     1     1
## [16,]    0    0    1    0    1    0    0    0    1     0     1     0
## [17,]    1    1    1    1    1    1    1    1    1     1     0     0
## [18,]    1    1    1    1    1    1    1    0    0     0     1     0
## [19,]    0    0    1    0    1    0    1    0    1     0     0     0
## [20,]    0    0    0    0    0    0    1    1    0     1     0     1
## 
## $Q
##       [,1] [,2] [,3] [,4] [,5]
##  [1,]    0    1    1    0    1
##  [2,]    1    0    1    0    0
##  [3,]    0    0    1    0    0
##  [4,]    0    0    1    0    1
##  [5,]    0    1    1    1    1
##  [6,]    0    0    1    1    1
##  [7,]    1    0    0    1    1
##  [8,]    1    0    1    1    1
##  [9,]    1    0    0    1    0
## [10,]    1    0    1    0    0
## [11,]    1    1    0    0    0
## [12,]    0    0    1    1    1
## [13,]    1    1    1    0    1
## [14,]    1    1    1    0    1
## [15,]    0    0    1    1    1
## [16,]    1    1    1    0    0
## [17,]    0    1    0    1    1
## [18,]    0    1    1    0    1
## [19,]    1    1    1    1    1
## [20,]    0    1    0    1    0</code></pre>
<p>In case the default option is not favoured, <code>syn</code> also allows users to manually specify which parameters to keep through argument <code>keep.pars</code>.</p>
<pre class="sourceCode r"><code class="sourceCode r">dina.syn &lt;-<span class="st"> </span><span class="kw">syn</span>(<span class="st">&quot;dina&quot;</span>, <span class="dt">data =</span> dina.data, <span class="dt">keep.pars =</span> <span class="kw">c</span>(<span class="st">&quot;Q&quot;</span>, <span class="st">&quot;concept.exp&quot;</span>), <span class="dt">students =</span> <span class="dv">12</span>)</code></pre>
<pre><code>## Learning by 'dina' ...</code></pre>
<p>However, in this case users take their own risk if the kept parameters (together with the new number of students if <code>students</code> is redefined), form an inconsistent or insufficient set with respect to the specified model. For example, for synthesizing data by DINA model case, if we choose to keep <code>M</code> (which essentially retain the number of students) and define a new number of students, there will be conflict.</p>
<pre class="sourceCode r"><code class="sourceCode r">dina.syn &lt;-<span class="st"> </span><span class="kw">syn</span>(<span class="st">&quot;dina&quot;</span>, <span class="dt">data =</span> dina.data, <span class="dt">keep.pars =</span> <span class="kw">c</span>(<span class="st">&quot;Q&quot;</span>, <span class="st">&quot;M&quot;</span>), <span class="dt">students =</span> <span class="dv">12</span>)</code></pre>
<pre><code>## Learning by 'dina' ...</code></pre>
<pre><code>## Error in down.stream(filtered.pars): 'students' receives different values at once</code></pre>
</div>
<div class="footnotes">
<hr />
<ol>
<li id="fn1"><p>Currently <code>edmsyn</code> is able to detect whether a parameter is receiving different values, or if it violates some bounds indicated by users<a href="#fnref1">↩</a></p></li>
<li id="fn2"><p><code>KEEP</code> is designed in a way such that, with any new value the user updates for <code>students</code>, the new context is still consistent and sufficient, in this sense function <code>syn</code> generates synthetic data by creating simulated students.<a href="#fnref2">↩</a></p></li>
</ol>
</div>



<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
