{
    "contents" : "dissect <- function(a){\n  n <- nrow(a)\n  temp <- a\n  a.sym <- (a+t(a)) > 0\n  temp.sym <- a.sym\n  r <- list(a)\n  r.sym <- list(a.sym)\n  for (i in 1:(n-2)){\n    temp <- temp %*% a\n    temp.sym <- temp.sym %*% a.sym\n    r <- append(r, list(temp))\n    r.sym <- append(r.sym, list(temp.sym))\n  }\n  #return(r[[1]])\n  r_ <- lapply(r,t)\n  s.cy <- matrix(0, n, n) # same.cycle\n  s.co <- s.cy # same.component\n  for (i in 1:(n-1)){\n    for (j in 1:(n-1)){\n      s.cy <- s.cy + (r[[i]] * r_[[j]])\n    }\n    s.co <- s.co + r.sym[[i]]\n  }\n  \n  s.cy <- 0 + (s.cy > 0)\n  if (any(s.cy == 1)) stop(\"loop\")\n  s.co <- 0 + (s.co > 0)\n  #s.cy <- s.cy + diag(n)\n  #s.cy <- unique.matrix(s.cy)\n  s.co <- unique.matrix(s.co)\n  leaf <- which(rowSums(a) == 0)\n  comp <- list()\n  \n  order <- function(raw, part){\n    raw <- raw[!sapply(raw, function(x){x %in% part})]\n    raw <- append(part, raw)\n  }\n  for (i in 1:nrow(s.co)){\n    nodes.i <- which(s.co[i,] == 1)\n    dissect.i <- a[nodes.i,nodes.i]\n    leaf.i <- intersect(leaf, nodes.i)\n    nodes.i <- order(nodes.i, leaf.i)\n    lvlSizes <- length(leaf.i)\n    lvl.j <- leaf.i\n    for (j in (1:(n-1))){\n      lvl.j <- which(rowSums(as.matrix(r[[j]][,leaf.i])) > 0)\n      if (length(lvl.j) == 0) break\n      nodes.i <- order(nodes.i, lvl.j)\n      lvlSizes <- append(length(lvl.j), lvlSizes)\n    }\n    comp <- append(comp, list(list(matrix = a[nodes.i,nodes.i], level.sizes = lvlSizes)))\n  }\n  \n  list(ks = a, comp = comp)\n}\n\ntrim.2_loop <- function(a){\n  mul <- (a == 1) * (t(a) == 1) + 1\n  b <- a * mul\n  upper <- row(a) < col(a)\n  mul <- 1/(((b* upper) == 2) + 1)\n  b <- b * mul\n  b <- b * (1 - (b==2))\n}\n\n# it <- 50\n# poks <- gen(\"poks\", pars(items = it, students = 100))$poks\n# lea <- learn(\"poks\", poks)$po$ks\n# lea <- trim.2_loop(lea)\n# #viz(po)\n# b <- 0 + on.same.cycle(lea)\n# colnames(b) <- 1:it\n# rownames(b) <- 1:it\n# if (any(b==1)) print(\"tada\")",
    "created" : 1441430371503.000,
    "dirty" : true,
    "encoding" : "",
    "folds" : "",
    "hash" : "384625902",
    "id" : "81DDA93D",
    "lastKnownWriteTime" : 7011605692497750387,
    "path" : null,
    "project_path" : null,
    "properties" : {
        "tempName" : "Untitled1"
    },
    "relative_order" : 3,
    "source_on_save" : false,
    "type" : "r_source"
}